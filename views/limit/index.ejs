<div class="container py-4">
  <h2 class="mb-4">Daftar Limit Energi</h2>

  <form action="/limit" method="POST" class="row g-2 mb-4">
    <div class="col-md-3">
      <input type="number" step="0.01" name="batas_kwh" class="form-control" placeholder="Batas kWh" required>
    </div>
    <div class="col-md-3">
      <input type="datetime-local" name="jam_mulai" class="form-control" required>
    </div>
    <div class="col-md-3">
      <input type="datetime-local" name="jam_selesai" class="form-control" required>
    </div>
    <div class="col-md-3">
      <button class="btn btn-primary w-100" type="submit">Tambah Limit</button>
    </div>
  </form>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th>#</th>
        <th>Batas (kWh)</th>
        <th>Tanggal Jam Mulai</th>
        <th>Tanggal Jam Selesai</th>
        <th>Aksi</th>
      </tr>
    </thead>
    <tbody>
      <% limitList.forEach((limit, index) => { %>
        <tr>
          <td><%= index + 1 %></td>
          <td><%= limit.batas_kwh.toFixed(2) %></td>
          <td><%= new Date(limit.jam_mulai).toLocaleString('id-ID') %></td>
          <td><%= new Date(limit.jam_selesai).toLocaleString('id-ID') %></td>
          <td>
            <a href="/limit/<%= limit.id %>/edit" class="btn btn-sm btn-warning">Edit</a>
            <form action="/limit/<%= limit.id %>/delete" method="POST" class="d-inline">
              <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Yakin hapus?')">Hapus</button>
            </form>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>
